---
#
# Backup Cisco Nexus devices.
#
- name: Cisco-backup
  hosts: nxos
  connection: network_cli
  gather_facts: no

  roles:
    - nxos
    - backup

#
# Backup Juniper Junos (SRX) devices.
#
- name: Juniper-backup
  hosts: srx
  connection: local
  gather_facts: no

  roles:
     - juniper
     - backup

#
# Backup HP Comware devices.
#
- name: HP-backup
  hosts: hp
  connection: ssh
  gather_facts: no

  roles:
     - hp_comware
     - backup

#
# Backup ArubaOS devices.
#
- name: Aruba-backups
  hosts: aruba
  connection: local
  gather_facts: no

  roles:
     - aruba
     - backup

#
# Store configuration backups on remote linux machine.
# Role remote_backup works with items from hosts group [backup].
# Remote backup server is in group [bak].
#
- name: Remote-backup
  hosts: bak
  connection: ssh
  gather_facts: no

  roles:
     - remote_backup
